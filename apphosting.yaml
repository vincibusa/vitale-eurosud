# Settings for Backend (on Cloud Run).
# See https://firebase.google.com/docs/app-hosting/configure#cloud-run
runConfig:
  minInstances: 0
  # maxInstances: 100
  # concurrency: 80
  # cpu: 1
  # memoryMiB: 512

# Environment variables and secrets.
env:
  # Supabase Configuration - Available in both BUILD and RUNTIME
  - variable: NEXT_PUBLIC_SUPABASE_URL
    value: "https://skzhmbjhspezlzeoycdn.supabase.co"
    availability:
      - BUILD
      - RUNTIME
  
  - variable: NEXT_PUBLIC_SUPABASE_ANON_KEY
    value: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNremhtYmpoc3Blemx6ZW95Y2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NTg5NDksImV4cCI6MjA3NjIzNDk0OX0.i8ahyuYIgmulE-8PkuHE3wsadBNsBKf2abUbcy0wQ94"
    availability:
      - BUILD
      - RUNTIME

  
  # Node Environment
  - variable: NODE_ENV
    value: "production"
    availability:
      - BUILD
      - RUNTIME
  
  # Next.js Configuration
  - variable: NEXT_TELEMETRY_DISABLED
    value: "1"
    availability:
      - BUILD
      - RUNTIME

# Custom build and run commands
scripts:
  buildCommand: "npm run build"
  runCommand: "npm start"
